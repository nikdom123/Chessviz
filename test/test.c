#include "board.h"
#include "ctest.h"

// White Pawn

CTEST(pawn, white_step)
{
    // char board[8][8] = {{'.', '.', '.', '.', '.', '.', '.', '.'},
    //                     {'.', '.', '.', '.', '.', '.', '.', '.'},
    //                     {'.', '.', '.', '.', '.', '.', '.', '.'},
    //                     {'.', '.', '.', '.', '.', '.', '.', '.'},
    //                     {'.', '.', '.', '.', '.', '.', '.', '.'},
    //                     {'.', '.', '.', '.', '.', '.', '.', '.'},
    //                     {'.', '.', '.', '.', '.', 'P', '.', '.'},
    //                     {'.', '.', '.', '.', '.', '.', '.', '.'}};
    ASSERT_EQUAL(1, WPawn('-', 6, 5, 4, 5));
}

CTEST(pawn, white_wrong_step)
{
    // char board[8][8] = {{'.', '.', '.', '.', '.', '.', '.', '.'},
    //                     {'.', '.', '.', '.', '.', '.', '.', '.'},
    //                     {'.', '.', '.', '.', '.', '.', '.', '.'},
    //                     {'.', '.', '.', '.', '.', '.', '.', '.'},
    //                     {'.', '.', 'P', '.', '.', '.', '.', '.'},
    //                     {'.', '.', '.', '.', '.', '.', '.', '.'},
    //                     {'.', '.', '.', '.', '.', '.', '.', '.'},
    //                     {'.', '.', '.', '.', '.', '.', '.', '.'}};
    ASSERT_EQUAL(0, WPawn('-', 4, 2, 5, 2));
}

// Black Pawn

CTEST(pawn, black_step)
{
    // char board[8][8] = {{'.', '.', '.', '.', '.', '.', '.', '.'},
    //                     {'.', '.', '.', 'p', '.', '.', '.', '.'},
    //                     {'.', '.', '.', '.', '.', '.', '.', '.'},
    //                     {'.', '.', '.', '.', '.', '.', '.', '.'},
    //                     {'.', '.', '.', '.', '.', '.', '.', '.'},
    //                     {'.', '.', '.', '.', '.', '.', '.', '.'},
    //                     {'.', '.', '.', '.', '.', '.', '.', '.'},
    //                     {'.', '.', '.', '.', '.', '.', '.', '.'}};
    ASSERT_EQUAL(1, BPawn('-', 1, 3, 2, 3));
}

CTEST(pawn, black_wrong_step)
{
    // char board[8][8] = {{'.', '.', '.', '.', '.', '.', '.', '.'},
    //                     {'.', '.', '.', '.', '.', '.', '.', '.'},
    //                     {'.', '.', '.', '.', '.', '.', '.', '.'},
    //                     {'.', '.', '.', '.', '.', '.', 'p', '.'},
    //                     {'.', '.', '.', '.', '.', '.', '.', '.'},
    //                     {'.', '.', '.', '.', '.', '.', '.', '.'},
    //                     {'.', '.', '.', '.', '.', '.', '.', '.'},
    //                     {'.', '.', '.', '.', '.', '.', '.', '.'}};
    ASSERT_EQUAL(0, BPawn('-', 6, 3, 7, 4));
}

// Black King

CTEST(king, black_step)
{
    char board[8][8] = {{'k', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'}};
    ASSERT_EQUAL(1, King(board, 0, 0, 1, 1));
}

CTEST(king, black_wrong_step)
{
    char board[8][8] = {{'k', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'}};
    ASSERT_EQUAL(0, King(board, 0, 0, 1, 3));
}

// White King

CTEST(king, white_step)
{
    char board[8][8] = {{'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', 'K', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'}};
    ASSERT_EQUAL(1, King(board, 6, 4, 6, 3));
}

CTEST(king, white_wrong_step)
{
    char board[8][8] = {{'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', 'K', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'}};
    ASSERT_EQUAL(0, King(board, 6, 4, 4, 3));
}

// Bishop

CTEST(Bishop, white_step)
{
    char board[8][8] = {{'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', 'B', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'}};
    ASSERT_EQUAL(1, Bishop(board, 6, 4, 3, 1));
}

CTEST(Bishop, white_wrong_step)
{
    char board[8][8] = {{'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', 'p', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', 'B', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'}};
    ASSERT_EQUAL(0, Bishop(board, 6, 4, 3, 1));
}

CTEST(Bishop, white_wrong_step_1)
{
    char board[8][8] = {{'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', 'p', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', 'B', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'}};
    ASSERT_EQUAL(0, Bishop(board, 6, 4, 4, 4));
}

// Rook

CTEST(Rook, white_step)
{
    char board[8][8] = {{'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', 'R', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'}};
    ASSERT_EQUAL(1, Rook(board, 6, 4, 2, 4));
}

CTEST(Rook, white_wrong_step)
{
    char board[8][8] = {{'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', 'p', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', 'R', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'}};
    ASSERT_EQUAL(0, Rook(board, 6, 4, 2, 6));
}

// Queen

CTEST(Queen, white_step)
{
    char board[8][8] = {{'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', 'Q', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'}};
    ASSERT_EQUAL(1, Queen(board, 6, 4, 0, 4));
}

CTEST(Queen, white_step_1)
{
    char board[8][8] = {{'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', 'Q', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'}};
    ASSERT_EQUAL(1, Queen(board, 3, 1, 6, 4));
}

CTEST(Queen, white_wrong_step)
{
    char board[8][8] = {{'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', 'Q', '.', 'k', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'}};
    ASSERT_EQUAL(0, Queen(board, 3, 1, 3, 5));
}

CTEST(Queen, white_wrong_step_1)
{
    char board[8][8] = {{'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', 'Q', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', 'k', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'}};
    ASSERT_EQUAL(0, Queen(board, 1, 6, 5, 2));
}

// Knight

CTEST(Knight, step)
{
    char board[8][8] = {{'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', 'N', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'}};
    ASSERT_EQUAL(1, Knight(board, 6, 4, 5, 6));
}

CTEST(Knight, wrong_step)
{
    char board[8][8] = {{'.', 'N', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'}};
    ASSERT_EQUAL(0, Knight(board, 0, 1, 2, 1));
}

CTEST(Knight, wrong_step_1)
{
    char board[8][8] = {{'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', 'N', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'},
                        {'.', '.', '.', '.', '.', '.', '.', '.'}};
    ASSERT_EQUAL(0, Knight(board, 1, 5, 0, 6));
}